<html xmlns:th="http://www.thymeleaf.org"
	th:replace="~{admin/layouts/layout :: layout('Order List', ~{this :: .content-main})}">

<head>
<title>Customer List</title>
</head>

<body>
	<section class="content-main">
		<div class="content-header">
			<h2 class="content-title">Customer list</h2>
			<div>
				<a class="btn btn-primary" href="#"><i
					class="material-icons md-plus"></i> Create Customer</a>
			</div>
		</div>
		<div class="card mb-4">
			<header class="card-header">
				<div class="row gx-3">
					<div class="col-lg-4 col-md-6 me-auto">
						<input class="form-control" type="text" placeholder="Search...">
					</div>
					<div class="col-lg-2 col-md-3 col-6">
						<select class="form-select">
							<option>Status</option>
							<option>Active</option>
							<option>Disabled</option>
							<option>Show all</option>
						</select>
					</div>
					<div class="col-lg-2 col-md-3 col-6">
						<select class="form-select">
							<option>Show 20</option>
							<option>Show 30</option>
							<option>Show 40</option>
						</select>
					</div>
				</div>
			</header>
			<!-- card-header end//-->
			<div class="card-body">
				<div class="table-responsive">
					<table class="table table-hover">
						<thead>
							<tr>
								<th class="text-center">Customer</th>
								<th>Email</th>
								<th>Phone</th>
								<th>Date of Birth</th>
								<th class="text-center">Action</th>
							</tr>
						</thead>
						<tbody>
							<th:block th:if="${users!=null}">
								<tr th:each="user : ${users.content}">
									<th:block
										th:if="${user.deletedAt == null}">
										<td width="40%"><a class="itemside" href="#"
											style="flex-direction: column;">
												<div class="left">
													<th:block th:if="${user.avatar.contains('https:')}">
														<img class="img-md img-avatar" th:src="${user.avatar}"
															alt="User pic">
													</th:block>
													<th:block th:if="${!user.avatar.contains('https:')}">
														<img class="img-md img-avatar"
															th:src="@{'/admin/assets/imgs/avatars/' + ${user.avatar}}"
															alt="User pic">
													</th:block>
												</div>
												<div class="info pl-3">
													<h6 class="mb-0 title">
														<th:block th:text="${user.firstName}+' '+${user.lastName}"></th:block>
													</h6>
												</div>
										</a></td>
										<td><th:block th:text="${user.email}"></th:block></td>
										<td><th:block th:text="${user.phoneNumber}"></th:block></td>
										<td><th:block
												th:text="${#dates.format(user.birthOfDate, 'dd/MM/yyyy')}"></th:block></td>
										<th:block
											th:if="${user.deletedAt == null && user.roles.id != 1}">
											<td class="text-center "><a
												class="btn btn-sm btn-brand rounded font-sm mt-15 d-flex justify-content-center"
												th:href="@{/admin/customer/detail}">View details</a></td>
										</th:block>
									</th:block>
								</tr>
							</th:block>

						</tbody>
					</table>
					<!-- table-responsive.//-->
					<!-- card-body end//-->
				</div>
			</div>
		</div>
		<!-- card end
		
		//-->
		<div class="pagination-area mt-15 mb-50">
			<nav aria-label="Page navigation example">
				<ul class="pagination justify-content-start">
					<!-- Nút trước -->
					<li class="page-item"
						th:classappend="${currentPages == 0} ? 'disabled'"><a
						class="page-link" th:href="@{'?page=' + ${currentPages-1}}"
						aria-label="Previous"> <i
							class="material-icons md-chevron_left"></i>
					</a></li>

					<!-- Các trang -->
					<th:block th:each="i : ${#numbers.sequence(0, lastPageIndex)}">

						<li class="page-item"
							th:classappend="${i} == ${currentPages} ? 'active'"><a
							class="page-link" th:href="@{'?page=' + ${i}}" th:text="${i + 1}"></a>
						</li>
					</th:block>

					<!-- Nút tiếp -->
					<li class="page-item"
						th:classappend="${currentPages + 1 >= totalPages} ? 'disabled'">
						<a class="page-link" th:href="@{'?page=' + ${currentPages+1}}"
						aria-label="Next"> <i class="material-icons md-chevron_right"></i>
					</a>
					</li>
				</ul>
			</nav>
		</div>
	</section>
</body>