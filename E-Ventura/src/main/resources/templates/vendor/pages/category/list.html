<html xmlns:th="http://www.thymeleaf.org"
	th:replace="~{vendor/layouts/layout :: layout('Category List', ~{this :: .content-main})}">

<head>
	<title>Category List</title>
</head>

<body>
	<section class="content-main">
		<div class="content-header">
			<div>
				<h2 class="content-title card-title">Category List</h2>
				<p>View your Category here</p>
			</div>
			<div><a class="btn btn-primary btn-sm rounded" href="#">Create new</a></div>
			<!-- Button trigger modal -->
			<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
				<i class="material-icons md-plus"></i>Create category
			</button>

			<!-- Modal -->
			<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
				aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h1 class="modal-title fs-5" id="exampleModalLabel">Modal
								title</h1>
							<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
						</div>
						<div class="modal-body">

						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
							<button type="button" class="btn btn-primary">Save
								changes</button>
						</div>
					</div>
				</div>
			</div>
			<!-- Modal -->

		</div>
		<div class="card mb-4">
			<header class="card-header">
				<div class="row gx-3">
					<div class="col-lg-4 col-md-6 me-auto">
						<form method="GET" th:action="@{/vendor/category/searchByKeyword}" id="searchForm">
							<input class="form-control" type="text" name="keyword" placeholder="Find By Keyword .... "
								id="keywordInput" th:value="${selectedKeyword}">
						</form>
					</div>

					<script>
						const keywordInput = document.getElementById('keywordInput');
						const searchForm = document.getElementById('searchForm');

						keywordInput.addEventListener('keyup', function (event) {
							if (event.key === 'Enter' || event.keyCode === 13) {
								searchForm.submit();
							}
						});
					</script>

				</div>
			</header>
			<!-- card-header end//-->
			<div class="card-body">
				<div class="row gx-3 row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-xl-4 row-cols-xxl-5">
					<th:block th:each="vendorProductCategory : ${vendorProductCategories}">
						<div class="col">
							<div class="card card-product-grid">
								<a class="img-wrap" href="#">
									<img th:src="@{'/assets/imgs/others/' + ${vendorProductCategory.productCategories.photo}}"
										alt="Product">
								</a>
								<div class="info-wrap">
									<a class="title text-truncate"
										th:text="${vendorProductCategory.productCategories.name}">Just another product
										name</a>
									<a class="btn btn-sm font-sm rounded btn-brand"
										th:href="@{'/vendor/category/edit/' + ${vendorProductCategory.productCategories.id}}">
										<i class="material-icons md-edit"></i> Edit
									</a>
									<a class="btn btn-sm font-sm btn-light rounded" href="#">
										<i class="material-icons md-delete_forever"></i> Delete
									</a>
								</div>
							</div>
						</div>
					</th:block>

				</div>
			</div>
		</div>
		<!-- Trường hợp danh sách tất cả Category -->
		<th:block th:if="${selectedKeyword == null && !#lists.isEmpty(vendorProductCategories)}">
			<div class="pagination-area mt-15 mb-50">
				<nav aria-label="Page navigation example">
					<ul class="pagination justify-content-start">
						<!-- Nút về đầu -->
						<li class="page-item" th:classappend="${currentPages == 0} ? 'hidden'">
							<a class="page-link" th:href="@{'/vendor/category/list?page=' + ${0}}" aria-label="Next"> <i
									class="material-icons md-double_arrow"
									style="transform: rotate(180deg) translate(15%, -30%);"></i>
							</a>
						</li>
						<!-- Nút trước -->
						<li class="page-item" th:classappend="${currentPages == 0} ? 'disabled'"><a
								th:href="@{'/vendor/category/list?page=' + ${currentPages-1}}" class="page-link"
								aria-label="Previous"> <i class="material-icons md-chevron_left"></i>
							</a></li>

						<!-- Các trang -->
						<th:block th:each="i : ${#numbers.sequence(0, lastPageIndex)}">

							<li class="page-item" th:classappend="${i} == ${currentPages} ? 'active'"><a
									class="page-link" th:href="@{'/vendor/category/list?page=' + ${i}}"
									th:text="${i + 1}"></a></li>
						</th:block>

						<!-- Nút tiếp -->
						<li class="page-item" th:classappend="${currentPages + 1 >= totalPage} ? 'disabled'">
							<a class="page-link" th:href="@{'/vendor/category/list?page=' + ${currentPages+1}}"
								aria-label="Next"> <i class="material-icons md-chevron_right"></i>
							</a>
						</li>
						<!-- Nút tới cuối -->
						<li class="page-item" th:classappend="${currentPages + 1 >= totalPage} ? 'hidden'">
							<a class="page-link" th:href="@{'/vendor/category/list?page=' + ${lastPageIndex}}"
								aria-label="Next"> <i class="material-icons md-double_arrow"></i>
							</a>
						</li>
					</ul>
				</nav>
			</div>
		</th:block>

		<!-- Trường hợp Search By Keyword -->
		<th:block th:if="${selectedKeyword != null && !#lists.isEmpty(vendorProductCategories)}">
			<div class="pagination-area mt-15 mb-50">
				<nav aria-label="Page navigation example">
					<ul class="pagination justify-content-start">
						<!-- Nút về đầu -->
						<li class="page-item" th:classappend="${currentPages == 0} ? 'hidden'">
							<a class="page-link" th:href="@{'/vendor/category/searchByKeyword?page=' + ${0}}"
								aria-label="Next"> <i class="material-icons md-double_arrow"
									style="transform: rotate(180deg) translate(15%, -30%);"></i>
							</a>
						</li>
						<!-- Nút trước -->
						<li class="page-item" th:classappend="${currentPages == 0} ? 'disabled'"><a
								th:href="@{'/vendor/category/searchByKeyword?page=' + ${currentPages-1}}"
								class="page-link" aria-label="Previous"> <i class="material-icons md-chevron_left"></i>
							</a></li>

						<!-- Các trang -->
						<th:block th:each="i : ${#numbers.sequence(0, lastPageIndex)}">

							<li class="page-item" th:classappend="${i} == ${currentPages} ? 'active'"><a
									class="page-link" th:href="@{'/vendor/category/list?page=' + ${i}}"
									th:text="${i + 1}"></a></li>
						</th:block>

						<!-- Nút tiếp -->
						<li class="page-item" th:classappend="${currentPages + 1 >= totalPage} ? 'disabled'">
							<a class="page-link"
								th:href="@{'/vendor/category/searchByKeyword?page=' + ${currentPages+1}}"
								aria-label="Next"> <i class="material-icons md-chevron_right"></i>
							</a>
						</li>
						<!-- Nút tới cuối -->
						<li class="page-item" th:classappend="${currentPages + 1 >= totalPage} ? 'hidden'">
							<a class="page-link"
								th:href="@{'/vendor/category/searchByKeyword?page=' + ${lastPageIndex}}"
								aria-label="Next"> <i class="material-icons md-double_arrow"></i>
							</a>
						</li>
					</ul>
				</nav>
			</div>
		</th:block>

	</section>
</body>